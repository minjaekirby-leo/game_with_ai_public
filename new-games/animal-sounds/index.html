<!DOCTYPE html>
<html>
<head>
    <title>ë™ë¬¼ ì†Œë¦¬ ë§ì¶”ê¸° ê²Œì„</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Comic Sans MS', cursive;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
            text-align: center;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        h1 {
            font-size: 3rem;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            margin-bottom: 20px;
            animation: wiggle 2s ease-in-out infinite;
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }
        
        .game-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .game-area {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-width: 500px;
        }
        
        .sound-display {
            font-size: 4rem;
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(45deg, #ff9a9e, #fecfef);
            border-radius: 15px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .animals-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .animal-card {
            background: white;
            border: 3px solid #ddd;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 2rem;
        }
        
        .animal-card:hover {
            transform: scale(1.05);
            border-color: #4ecdc4;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .animal-card.correct {
            background: #2ecc71;
            color: white;
            border-color: #27ae60;
        }
        
        .animal-card.wrong {
            background: #e74c3c;
            color: white;
            border-color: #c0392b;
        }
        
        .game-info {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            min-width: 200px;
            color: #333;
        }
        
        .info-item {
            margin: 15px 0;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        button {
            background: linear-gradient(45deg, #a8edea, #fed6e3);
            color: #333;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .instructions {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            margin: 20px auto;
            max-width: 600px;
            color: #333;
        }
        
        #secretMessage {
            display: none;
            background: linear-gradient(45deg, #ff6b6b, #ffd700);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: bold;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .play-sound-btn {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            font-size: 1.5rem;
            padding: 15px 30px;
            margin: 20px;
        }
    </style>
</head>
<body>
    <h1>ğŸ¾ ë™ë¬¼ ì†Œë¦¬ ë§ì¶”ê¸°</h1>
    
    <div class="instructions">
        <p><strong>ğŸ® ê²Œì„ ë°©ë²•:</strong></p>
        <p>ë™ë¬¼ ì†Œë¦¬ë¥¼ ë³´ê³  ì–´ë–¤ ë™ë¬¼ì¸ì§€ ë§ì¶°ë³´ì„¸ìš”!</p>
        <p>ì •ë‹µì„ ë§ì¶”ë©´ ì ìˆ˜ë¥¼ ì–»ìŠµë‹ˆë‹¤!</p>
        <p>ì—°ì†ìœ¼ë¡œ ë§ì¶”ë©´ ì½¤ë³´ ë³´ë„ˆìŠ¤ê°€ ìˆì–´ìš”!</p>
        <p>ğŸ’– ë¹„ë°€: "ì„œë¯¼ì¬ì‚¬ë‘í•´"ë¥¼ ì…ë ¥í•˜ë©´ íŠ¹ë³„í•œ ì¼ì´...?</p>
    </div>
    
    <div class="game-container">
        <div class="game-area">
            <div class="sound-display" id="soundDisplay">
                ğŸµ ì‹œì‘í•˜ë ¤ë©´ ì†Œë¦¬ ì¬ìƒì„ í´ë¦­í•˜ì„¸ìš”!
            </div>
            
            <button class="play-sound-btn" onclick="playCurrentSound()">ğŸ”Š ì†Œë¦¬ ì¬ìƒ</button>
            
            <div class="animals-grid" id="animalsGrid">
                <!-- ë™ë¬¼ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
        
        <div class="game-info">
            <div class="info-item">ì ìˆ˜: <span id="score">0</span></div>
            <div class="info-item">ì½¤ë³´: <span id="combo">0</span></div>
            <div class="info-item">ì •ë‹µë¥ : <span id="accuracy">0</span>%</div>
            <div class="info-item">ìµœê³  ê¸°ë¡: <span id="bestScore">0</span></div>
            
            <div id="secretMessage">
                ğŸ’– ë¹„ë°€ ì•”í˜¸ í™œì„±í™”!<br>íŒíŠ¸ ëª¨ë“œ ON! ğŸ’–
            </div>
            
            <button onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ</button>
            <button onclick="resetGame()">ìƒˆ ê²Œì„</button>
        </div>
    </div>

    <script>
        // ê²Œì„ ìƒíƒœ
        let score = 0;
        let combo = 0;
        let questionsAnswered = 0;
        let correctAnswers = 0;
        let bestScore = localStorage.getItem('animalSoundsBestScore') || 0;
        let currentAnimal = null;
        let gameStarted = false;
        
        // ë¹„ë°€ ì•”í˜¸ ê´€ë ¨ ë³€ìˆ˜
        let secretMode = false;
        let secretInput = '';
        const secretPassword = 'ì„œë¯¼ì¬ì‚¬ë‘í•´';
        
        // ë™ë¬¼ ë°ì´í„°
        const animals = [
            { name: 'ê°•ì•„ì§€', emoji: 'ğŸ•', sound: 'ë©ë©!', color: '#ff6b6b' },
            { name: 'ê³ ì–‘ì´', emoji: 'ğŸ±', sound: 'ì•¼ì˜¹~', color: '#4ecdc4' },
            { name: 'ì†Œ', emoji: 'ğŸ„', sound: 'ìŒë©”~', color: '#45b7d1' },
            { name: 'ë¼ì§€', emoji: 'ğŸ·', sound: 'ê¿€ê¿€!', color: '#96ceb4' },
            { name: 'ë‹­', emoji: 'ğŸ”', sound: 'ê¼¬ë¼ì˜¤!', color: '#feca57' },
            { name: 'ì–‘', emoji: 'ğŸ‘', sound: 'ë©”ì—~', color: '#ff9ff3' },
            { name: 'ë§', emoji: 'ğŸ´', sound: 'íˆíˆí!', color: '#54a0ff' },
            { name: 'ì˜¤ë¦¬', emoji: 'ğŸ¦†', sound: 'ê½¥ê½¥!', color: '#5f27cd' },
            { name: 'ì‚¬ì', emoji: 'ğŸ¦', sound: 'ì–´í¥!', color: '#ff7675' },
            { name: 'ì½”ë¼ë¦¬', emoji: 'ğŸ˜', sound: 'ë¿Œìš°~', color: '#a29bfe' },
            { name: 'ì›ìˆ­ì´', emoji: 'ğŸµ', sound: 'ìš°ë¼ë¼!', color: '#fd79a8' },
            { name: 'ê°œêµ¬ë¦¬', emoji: 'ğŸ¸', sound: 'ê°œêµ´ê°œêµ´!', color: '#00b894' }
        ];
        
        // ì´ˆê¸°í™”
        document.getElementById('bestScore').textContent = bestScore;
        
        // í‚¤ë³´ë“œ ì´ë²¤íŠ¸ (ë¹„ë°€ ì•”í˜¸)
        document.addEventListener('keydown', (e) => {
            if (e.key.length === 1) {
                secretInput += e.key;
                if (secretInput.length > secretPassword.length) {
                    secretInput = secretInput.slice(-secretPassword.length);
                }
                
                if (secretInput === secretPassword) {
                    secretMode = !secretMode;
                    document.getElementById('secretMessage').style.display = secretMode ? 'block' : 'none';
                    secretInput = '';
                    
                    if (gameStarted) {
                        createAnimalsGrid(); // íŒíŠ¸ ëª¨ë“œ ì ìš©
                    }
                }
            }
        });
        
        function getRandomAnimals(correctAnimal, count = 6) {
            const otherAnimals = animals.filter(animal => animal !== correctAnimal);
            const shuffled = otherAnimals.sort(() => Math.random() - 0.5);
            const selected = shuffled.slice(0, count - 1);
            selected.push(correctAnimal);
            return selected.sort(() => Math.random() - 0.5);
        }
        
        function createAnimalsGrid() {
            const grid = document.getElementById('animalsGrid');
            grid.innerHTML = '';
            
            const animalOptions = getRandomAnimals(currentAnimal);
            
            animalOptions.forEach(animal => {
                const card = document.createElement('div');
                card.className = 'animal-card';
                card.onclick = () => selectAnimal(animal, card);
                
                if (secretMode) {
                    // íŒíŠ¸ ëª¨ë“œ: ì •ë‹µì— ë¯¸ë¬˜í•œ íŒíŠ¸ ì œê³µ
                    if (animal === currentAnimal) {
                        card.innerHTML = `${animal.emoji}<br>${animal.name}<br><small style="color: gold;">â­</small>`;
                    } else {
                        card.innerHTML = `${animal.emoji}<br>${animal.name}`;
                    }
                } else {
                    card.innerHTML = `${animal.emoji}<br>${animal.name}`;
                }
                
                grid.appendChild(card);
            });
        }
        
        function selectAnimal(selectedAnimal, cardElement) {
            const allCards = document.querySelectorAll('.animal-card');
            allCards.forEach(card => card.style.pointerEvents = 'none');
            
            questionsAnswered++;
            
            if (selectedAnimal === currentAnimal) {
                // ì •ë‹µ
                cardElement.classList.add('correct');
                correctAnswers++;
                combo++;
                
                const points = combo * (secretMode ? 20 : 10);
                score += points;
                
                // ì„±ê³µ íŒŒí‹°í´ íš¨ê³¼
                createSuccessEffect(cardElement);
                
                setTimeout(() => {
                    nextQuestion();
                }, 1500);
            } else {
                // ì˜¤ë‹µ
                cardElement.classList.add('wrong');
                combo = 0;
                
                // ì •ë‹µ í‘œì‹œ
                allCards.forEach(card => {
                    if (card.innerHTML.includes(currentAnimal.name)) {
                        card.classList.add('correct');
                    }
                });
                
                setTimeout(() => {
                    nextQuestion();
                }, 2000);
            }
            
            updateDisplay();
        }
        
        function createSuccessEffect(element) {
            const rect = element.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.left = centerX + 'px';
                particle.style.top = centerY + 'px';
                particle.style.width = '10px';
                particle.style.height = '10px';
                particle.style.background = secretMode ? '#ffd700' : '#2ecc71';
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '1000';
                
                document.body.appendChild(particle);
                
                const angle = (i / 10) * Math.PI * 2;
                const distance = 100;
                const endX = centerX + Math.cos(angle) * distance;
                const endY = centerY + Math.sin(angle) * distance;
                
                particle.animate([
                    { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                    { transform: `translate(${endX - centerX}px, ${endY - centerY}px) scale(0)`, opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'ease-out'
                }).onfinish = () => {
                    document.body.removeChild(particle);
                };
            }
        }
        
        function playCurrentSound() {
            if (currentAnimal) {
                const soundDisplay = document.getElementById('soundDisplay');
                soundDisplay.textContent = currentAnimal.sound;
                soundDisplay.style.background = `linear-gradient(45deg, ${currentAnimal.color}, #fecfef)`;
                
                // ì†Œë¦¬ ì• ë‹ˆë©”ì´ì…˜
                soundDisplay.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    soundDisplay.style.transform = 'scale(1)';
                }, 300);
            }
        }
        
        function nextQuestion() {
            currentAnimal = animals[Math.floor(Math.random() * animals.length)];
            gameStarted = true;
            
            const soundDisplay = document.getElementById('soundDisplay');
            soundDisplay.textContent = 'ğŸµ ì†Œë¦¬ ì¬ìƒ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”!';
            soundDisplay.style.background = 'linear-gradient(45deg, #ff9a9e, #fecfef)';
            
            createAnimalsGrid();
            
            // ì¹´ë“œ í´ë¦­ ê°€ëŠ¥í•˜ê²Œ ë³µì›
            setTimeout(() => {
                const allCards = document.querySelectorAll('.animal-card');
                allCards.forEach(card => {
                    card.style.pointerEvents = 'auto';
                    card.classList.remove('correct', 'wrong');
                });
            }, 100);
        }
        
        function updateDisplay() {
            document.getElementById('score').textContent = score;
            document.getElementById('combo').textContent = combo;
            
            const accuracy = questionsAnswered > 0 ? Math.round((correctAnswers / questionsAnswered) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy;
            
            if (score > bestScore) {
                bestScore = score;
                localStorage.setItem('animalSoundsBestScore', bestScore);
                document.getElementById('bestScore').textContent = bestScore;
            }
        }
        
        function resetGame() {
            score = 0;
            combo = 0;
            questionsAnswered = 0;
            correctAnswers = 0;
            gameStarted = false;
            
            updateDisplay();
            
            const soundDisplay = document.getElementById('soundDisplay');
            soundDisplay.textContent = 'ğŸµ ì‹œì‘í•˜ë ¤ë©´ ì†Œë¦¬ ì¬ìƒì„ í´ë¦­í•˜ì„¸ìš”!';
            soundDisplay.style.background = 'linear-gradient(45deg, #ff9a9e, #fecfef)';
            
            document.getElementById('animalsGrid').innerHTML = '';
            currentAnimal = null;
        }
        
        // ê²Œì„ ì‹œì‘
        nextQuestion();
    </script>
</body>
</html>